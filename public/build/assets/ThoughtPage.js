import{q as b,r as x,W as u,j as e}from"./app.js";import{I as h}from"./InputError.js";import{D as d,A as v}from"./AuthenticatedLayout.js";import{d as g,r as N,T as w}from"./ThoughtCard.js";import{P as p}from"./PrimaryButton.js";import"./ApplicationLogo.js";import"./transition.js";import"./NavLink.js";g.extend(N);const y=({insight:s})=>{const{auth:r}=b().props,[i,a]=x.useState(!1);x.useState(!1);const{data:o,setData:l,patch:n,clearErrors:c,reset:t,errors:j}=u({message:s.message}),f=m=>{m.preventDefault(),n(route("insights.update",s.id),{onSuccess:()=>a(!1)})};return e.jsx("div",{className:"p-6 flex space-x-2 text-white dark:border-[#427D9D]",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#9BBEC8]",children:s.user_id===r.user.id?"You":s.user.name}),e.jsx("small",{className:"ml-2 text-sm text-[#427D9D] ",children:g(s.created_at).fromNow()}),s.created_at!==s.updated_at&&e.jsx("small",{className:"text-sm  text-[#427D9D]",children:" Â· edited"})]}),s.user_id===r.user.id&&e.jsxs(d,{children:[e.jsx(d.Trigger,{children:e.jsx("button",{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#9BBEC8]",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),e.jsxs(d.Content,{children:[e.jsx("button",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-white dark:hover:bg-gray-800  focus:bg-gray-100 transition duration-150 ease-in-out",onClick:()=>a(!0),children:"Edit"}),e.jsx(d.Link,{as:"button",href:route("insights.destroy",s.id),method:"delete",children:"Delete"})]})]})]}),i?e.jsxs("form",{onSubmit:f,children:[e.jsx("textarea",{value:o.message,onChange:m=>l("message",m.target.value),className:"mt-4 w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-800 text-white dark:border-gray-700"}),e.jsx(h,{message:j.message,className:"mt-2"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(p,{className:"mt-4",children:"Save"}),e.jsx("button",{className:"mt-4",onClick:()=>{a(!1),t(),c()},children:"Cancel"})]})]}):e.jsx("p",{className:"mt-4 text-lg text-[#DDF2FD]",children:s.message}),e.jsx("div",{className:"flex gap-2 pt-2"})]})})},z=({thought:s})=>{const{data:r,setData:i,post:a,processing:o,reset:l,errors:n}=u({message:"",thought_id:s.id}),c=t=>{t.preventDefault(),a(route("insights.store"),{onSuccess:()=>l()})};return e.jsx(v,{title:"Thought Bubble",children:e.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsx(w,{thought:s}),e.jsxs("form",{onSubmit:c,children:[e.jsx("textarea",{value:r.message,placeholder:"Have any insights?",className:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-800 text-white dark:border-gray-700",onChange:t=>i("message",t.target.value)}),e.jsx(h,{message:n.message,className:"mt-2"}),e.jsx(p,{className:"mt-4",disabled:o,children:"Submit"})]}),e.jsx("div",{className:"text-white",children:e.jsx("div",{className:"mt-9 shadow-sm rounded-lg divide-y",children:s.insights.length!==0?s.insights.map(t=>e.jsx(y,{insight:t},t.id)):e.jsxs("div",{className:" text-center ",children:[e.jsx("h3",{className:"text-xl",children:"There have been no insights aded to this thought."}),e.jsx("p",{children:"Let people here what you have to say"})]})})})]})})};export{z as default};
