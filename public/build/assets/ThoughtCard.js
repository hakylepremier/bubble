import{g as ee,c as te,q as ae,r as R,W as ie,j as o,d as X}from"./app.js";import{D as Q}from"./AuthenticatedLayout.js";import{I as oe}from"./InputError.js";import{P as ue}from"./PrimaryButton.js";var re={exports:{}};(function(h,P){(function(j,D){h.exports=D()})(te,function(){var j=1e3,D=6e4,_=36e5,v="millisecond",k="second",S="minute",C="hour",d="day",g="week",f="month",O="quarter",p="year",N="date",B="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],e=s%100;return"["+s+(r[(e-20)%10]||r[e]||r[0])+"]"}},Z=function(s,r,e){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(e)+s},E={s:Z,z:function(s){var r=-s.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),t=e%60;return(r<=0?"+":"-")+Z(n,2,"0")+":"+Z(t,2,"0")},m:function s(r,e){if(r.date()<e.date())return-s(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),t=r.clone().add(n,f),a=e-t<0,i=r.clone().add(n+(a?-1:1),f);return+(-(n+(e-t)/(a?t-i:i-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:f,y:p,w:g,d,D:N,h:C,m:S,s:k,ms:v,Q:O}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},y="en",M={};M[y]=F;var H="$isDayjsObject",L=function(s){return s instanceof q||!(!s||!s[H])},V=function s(r,e,n){var t;if(!r)return y;if(typeof r=="string"){var a=r.toLowerCase();M[a]&&(t=a),e&&(M[a]=e,t=a);var i=r.split("-");if(!t&&i.length>1)return s(i[0])}else{var c=r.name;M[c]=r,t=c}return!n&&t&&(y=t),t||!n&&y},m=function(s,r){if(L(s))return s.clone();var e=typeof r=="object"?r:{};return e.date=s,e.args=arguments,new q(e)},u=E;u.l=V,u.i=L,u.w=function(s,r){return m(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var q=function(){function s(e){this.$L=V(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[H]=!0}var r=s.prototype;return r.parse=function(e){this.$d=function(n){var t=n.date,a=n.utc;if(t===null)return new Date(NaN);if(u.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(z);if(i){var c=i[2]-1||0,l=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],c,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)):new Date(i[1],c,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)}}return new Date(t)}(e),this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return u},r.isValid=function(){return this.$d.toString()!==B},r.isSame=function(e,n){var t=m(e);return this.startOf(n)<=t&&t<=this.endOf(n)},r.isAfter=function(e,n){return m(e)<this.startOf(n)},r.isBefore=function(e,n){return this.endOf(n)<m(e)},r.$g=function(e,n,t){return u.u(e)?this[n]:this.set(t,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,n){var t=this,a=!!u.u(n)||n,i=u.p(e),c=function(Y,w){var T=u.w(t.$u?Date.UTC(t.$y,w,Y):new Date(t.$y,w,Y),t);return a?T:T.endOf(d)},l=function(Y,w){return u.w(t.toDate()[Y].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(w)),t)},x=this.$W,$=this.$M,b=this.$D,I="set"+(this.$u?"UTC":"");switch(i){case p:return a?c(1,0):c(31,11);case f:return a?c(1,$):c(0,$+1);case g:var W=this.$locale().weekStart||0,U=(x<W?x+7:x)-W;return c(a?b-U:b+(6-U),$);case d:case N:return l(I+"Hours",0);case C:return l(I+"Minutes",1);case S:return l(I+"Seconds",2);case k:return l(I+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,n){var t,a=u.p(e),i="set"+(this.$u?"UTC":""),c=(t={},t[d]=i+"Date",t[N]=i+"Date",t[f]=i+"Month",t[p]=i+"FullYear",t[C]=i+"Hours",t[S]=i+"Minutes",t[k]=i+"Seconds",t[v]=i+"Milliseconds",t)[a],l=a===d?this.$D+(n-this.$W):n;if(a===f||a===p){var x=this.clone().set(N,1);x.$d[c](l),x.init(),this.$d=x.set(N,Math.min(this.$D,x.daysInMonth())).$d}else c&&this.$d[c](l);return this.init(),this},r.set=function(e,n){return this.clone().$set(e,n)},r.get=function(e){return this[u.p(e)]()},r.add=function(e,n){var t,a=this;e=Number(e);var i=u.p(n),c=function($){var b=m(a);return u.w(b.date(b.date()+Math.round($*e)),a)};if(i===f)return this.set(f,this.$M+e);if(i===p)return this.set(p,this.$y+e);if(i===d)return c(1);if(i===g)return c(7);var l=(t={},t[S]=D,t[C]=_,t[k]=j,t)[i]||1,x=this.$d.getTime()+e*l;return u.w(x,this)},r.subtract=function(e,n){return this.add(-1*e,n)},r.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||B;var a=e||"YYYY-MM-DDTHH:mm:ssZ",i=u.z(this),c=this.$H,l=this.$m,x=this.$M,$=t.weekdays,b=t.months,I=t.meridiem,W=function(w,T,J,G){return w&&(w[T]||w(n,a))||J[T].slice(0,G)},U=function(w){return u.s(c%12||12,w,"0")},Y=I||function(w,T,J){var G=w<12?"AM":"PM";return J?G.toLowerCase():G};return a.replace(A,function(w,T){return T||function(J){switch(J){case"YY":return String(n.$y).slice(-2);case"YYYY":return u.s(n.$y,4,"0");case"M":return x+1;case"MM":return u.s(x+1,2,"0");case"MMM":return W(t.monthsShort,x,b,3);case"MMMM":return W(b,x);case"D":return n.$D;case"DD":return u.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return W(t.weekdaysMin,n.$W,$,2);case"ddd":return W(t.weekdaysShort,n.$W,$,3);case"dddd":return $[n.$W];case"H":return String(c);case"HH":return u.s(c,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return Y(c,l,!0);case"A":return Y(c,l,!1);case"m":return String(l);case"mm":return u.s(l,2,"0");case"s":return String(n.$s);case"ss":return u.s(n.$s,2,"0");case"SSS":return u.s(n.$ms,3,"0");case"Z":return i}return null}(w)||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,n,t){var a,i=this,c=u.p(n),l=m(e),x=(l.utcOffset()-this.utcOffset())*D,$=this-l,b=function(){return u.m(i,l)};switch(c){case p:a=b()/12;break;case f:a=b();break;case O:a=b()/3;break;case g:a=($-x)/6048e5;break;case d:a=($-x)/864e5;break;case C:a=$/_;break;case S:a=$/D;break;case k:a=$/j;break;default:a=$}return t?a:u.a(a)},r.daysInMonth=function(){return this.endOf(f).$D},r.$locale=function(){return M[this.$L]},r.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),a=V(e,n,!0);return a&&(t.$L=a),t},r.clone=function(){return u.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),K=q.prototype;return m.prototype=K,[["$ms",v],["$s",k],["$m",S],["$H",C],["$W",d],["$M",f],["$y",p],["$D",N]].forEach(function(s){K[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),m.extend=function(s,r){return s.$i||(s(r,q,m),s.$i=!0),m},m.locale=V,m.isDayjs=L,m.unix=function(s){return m(1e3*s)},m.en=M[y],m.Ls=M,m.p={},m})})(re);var ce=re.exports;const ne=ee(ce);var se={exports:{}};(function(h,P){(function(j,D){h.exports=D()})(te,function(){return function(j,D,_){j=j||{};var v=D.prototype,k={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function S(d,g,f,O){return v.fromToBase(d,g,f,O)}_.en.relativeTime=k,v.fromToBase=function(d,g,f,O,p){for(var N,B,z,A=f.$locale().relativeTime||k,F=j.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Z=F.length,E=0;E<Z;E+=1){var y=F[E];y.d&&(N=O?_(d).diff(f,y.d,!0):f.diff(d,y.d,!0));var M=(j.rounding||Math.round)(Math.abs(N));if(z=N>0,M<=y.r||!y.r){M<=1&&E>0&&(y=F[E-1]);var H=A[y.l];p&&(M=p(""+M)),B=typeof H=="string"?H.replace("%d",M):H(M,g,y.l,z);break}}if(g)return B;var L=z?A.future:A.past;return typeof L=="function"?L(B):L.replace("%s",B)},v.to=function(d,g){return S(d,g,this,!0)},v.from=function(d,g){return S(d,g,this)};var C=function(d){return d.$u?_.utc():_()};v.toNow=function(d){return this.to(C(this),d)},v.fromNow=function(d){return this.from(C(this),d)}}})})(se);var de=se.exports;const le=ee(de);ne.extend(le);function $e({thought:h}){const{auth:P}=ae().props,[j,D]=R.useState(!1),[_,v]=R.useState(!1),{data:k,setData:S,patch:C,clearErrors:d,reset:g,errors:f}=ie({message:h.message}),O=p=>{p.preventDefault(),C(route("thoughts.update",h.id),{onSuccess:()=>D(!1)})};return R.useEffect(()=>{h.likes.length,h.likes.length===0&&v(!0)},[]),o.jsxs("div",{className:"p-6 flex space-x-2 text-white dark:border-[#427D9D]",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-[#9BBEC8] -scale-x-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[#9BBEC8]",children:h.user.name}),o.jsx("small",{className:"ml-2 text-sm text-[#427D9D] ",children:ne(h.created_at).fromNow()}),h.created_at!==h.updated_at&&o.jsx("small",{className:"text-sm  text-[#427D9D]",children:" Â· edited"})]}),h.user.id===P.user.id&&o.jsxs(Q,{children:[o.jsx(Q.Trigger,{children:o.jsx("button",{children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[#9BBEC8]",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),o.jsxs(Q.Content,{children:[o.jsx("button",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-white dark:hover:bg-gray-800  focus:bg-gray-100 transition duration-150 ease-in-out",onClick:()=>D(!0),children:"Edit"}),o.jsx(Q.Link,{as:"button",href:route("thoughts.destroy",h.id),method:"delete",children:"Delete"})]})]})]}),j?o.jsxs("form",{onSubmit:O,children:[o.jsx("textarea",{value:k.message,onChange:p=>S("message",p.target.value),className:"mt-4 w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm dark:bg-gray-800 text-white dark:border-gray-700"}),o.jsx(oe,{message:f.message,className:"mt-2"}),o.jsxs("div",{className:"space-x-2",children:[o.jsx(ue,{className:"mt-4",children:"Save"}),o.jsx("button",{className:"mt-4",onClick:()=>{D(!1),g(),d()},children:"Cancel"})]})]}):o.jsx("p",{className:"mt-4 text-lg text-[#DDF2FD]",children:h.message}),o.jsx("div",{className:"text-blue-800",children:h.likes[0]?o.jsx(X,{as:"button",href:route("likes.destroy",h.likes[0].id),method:"delete",onSuccess:()=>v(!0),preserveScroll:!0,type:"button",className:"px-4 py-2 text-start text-sm leading-5  text-gray-300 dark:text-gray-800  hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none  transition duration-150 ease-in-out ",children:o.jsx("svg",{className:"h-6 w-6  -scale-x-100",viewBox:"0 0 24 24",stroke:"#1f2937",strokeWidth:"0.125rem",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"currentColor"})})}):o.jsx(X,{as:"button",href:route("likes.store"),method:"post",data:{thought_id:h.id,user_id:P.user.id},onSuccess:()=>v(!0),preserveScroll:!0,type:"button",className:"px-4 py-2 text-start text-sm leading-5 dark:text-transparent text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none transition duration-150 ease-in-out ",children:o.jsx("svg",{className:"h-6 w-6  -scale-x-100",viewBox:"0 0 24 24",stroke:"#1f2937",strokeWidth:"0.125rem",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z",fill:"currentColor"})})})})]})]})}export{$e as T};
